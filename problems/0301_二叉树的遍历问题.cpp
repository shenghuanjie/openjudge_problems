b'/*\n0301: \xe4\xba\x8c\xe5\x8f\x89\xe6\xa0\x91\xe7\x9a\x84\xe9\x81\x8d\xe5\x8e\x86\xe9\x97\xae\xe9\xa2\x98\nhttp://dsb.openjudge.cn/0504/0301/\n\n\n\xe6\x8f\x8f\xe8\xbf\xb0\n\xe8\xbe\x93\xe5\x85\xa5\xe4\xb8\x80\xe6\xa3\xb5\xe4\xba\x8c\xe5\x8f\x89\xe6\xa0\x91\xe7\x9a\x84\xe5\x85\x88\xe5\xba\x8f\xe5\x92\x8c\xe4\xb8\xad\xe5\xba\x8f\xe9\x81\x8d\xe5\x8e\x86\xe5\xba\x8f\xe5\x88\x97\xef\xbc\x8c\xe8\xbe\x93\xe5\x87\xba\xe5\x85\xb6\xe5\x90\x8e\xe5\xba\x8f\xe9\x81\x8d\xe5\x8e\x86\xe5\xba\x8f\xe5\x88\x97\xe3\x80\x82\n\xe8\xbe\x93\xe5\x85\xa5\n\xe8\xbe\x93\xe5\x85\xa5\xe6\x96\x87\xe4\xbb\xb6\xe4\xb8\xbatree.in\xef\xbc\x8c\xe5\x85\xb1\xe4\xb8\xa4\xe8\xa1\x8c\xef\xbc\x8c\xe7\xac\xac\xe4\xb8\x80\xe8\xa1\x8c\xe4\xb8\x80\xe4\xb8\xaa\xe5\xad\x97\xe7\xac\xa6\xe4\xb8\xb2\xef\xbc\x8c\xe8\xa1\xa8\xe7\xa4\xba\xe6\xa0\x91\xe7\x9a\x84\xe5\x85\x88\xe5\xba\x8f\xe9\x81\x8d\xe5\x8e\x86\xef\xbc\x8c\xe7\xac\xac\xe4\xba\x8c\xe8\xa1\x8c\xe4\xb8\x80\xe4\xb8\xaa\xe5\xad\x97\xe7\xac\xa6\xe4\xb8\xb2\xef\xbc\x8c\xe8\xa1\xa8\xe7\xa4\xba\xe6\xa0\x91\xe7\x9a\x84\xe4\xb8\xad\xe5\xba\x8f\xe9\x81\x8d\xe5\x8e\x86\xe3\x80\x82\xe6\xa0\x91\xe7\x9a\x84\xe7\xbb\x93\xe7\x82\xb9\xe4\xb8\x80\xe5\xbe\x8b\xe7\x94\xa8\xe5\xb0\x8f\xe5\x86\x99\xe5\xad\x97\xe6\xaf\x8d\xe8\xa1\xa8\xe7\xa4\xba\xe3\x80\x82\n\xe8\xbe\x93\xe5\x87\xba\n\xe8\xbe\x93\xe5\x87\xba\xe6\x96\x87\xe4\xbb\xb6\xe4\xb8\xbatree.out\xef\xbc\x8c\xe4\xbb\x85\xe4\xb8\x80\xe8\xa1\x8c\xef\xbc\x8c\xe8\xa1\xa8\xe7\xa4\xba\xe6\xa0\x91\xe7\x9a\x84\xe5\x90\x8e\xe5\xba\x8f\xe9\x81\x8d\xe5\x8e\x86\xe5\xba\x8f\xe5\x88\x97\xe3\x80\x82\n\xe6\xa0\xb7\xe4\xbe\x8b\xe8\xbe\x93\xe5\x85\xa5\nabdec\r\ndbeac\r\n\n\xe6\xa0\xb7\xe4\xbe\x8b\xe8\xbe\x93\xe5\x87\xba\ndebca\n\n*/\n\n#include<iostream>\n#include<string>\n#include<stack>\n#include <stdlib.h>\nusing namespace std;\nint comp(const void *a, const void *b)//\xe6\x8e\x92\xe5\xba\x8f\xe4\xb8\xad\xe7\x94\xa8\xe5\x88\xb0\xe7\x9a\x84\xe6\xaf\x94\xe8\xbe\x83\xe5\x87\xbd\xe6\x95\xb0\n{\n\tif(*(char *)a>*(char *)b)\n\t\treturn 1;\n\telse\n\t\treturn -1;\n}\nbool Post_order(string *pre, string *in)//\xe6\x89\xa7\xe8\xa1\x8c\xe6\xb1\x82\xe5\x90\x8e\xe5\xba\x8f\xe9\x81\x8d\xe5\x8e\x86\xe7\x9a\x84\xe5\x87\xbd\xe6\x95\xb0\n{\n\tif((pre->length()!=in->length())||(pre->length()==0)||(in->length()==0))//\xe8\x8b\xa5\xe5\xad\x97\xe7\xac\xa6\xe4\xb8\xb2\xe9\x95\xbf\xe5\xba\xa6\xe4\xb8\x8d\xe4\xb8\x80\xe8\x87\xb4\xe6\x88\x96\xe8\x80\x85\xe4\xb8\xba0\xe8\xbf\x94\xe5\x9b\x9efalse\n\t{\n\t\tcout<<pre->length()<<" "<<in->length()<<endl;\n\t\treturn false;\n\t}\n\tstring a,b;\n\ta=*pre;b=*in;\n\tqsort(&a[0],a.length(),sizeof(char),comp);\n\tqsort(&b[0],b.length(),sizeof(b[0]),comp);\n\tif(!(a==b))//\xe8\x8b\xa5\xe5\xad\x98\xe5\x9c\xa8\xe4\xb8\x8d\xe5\x90\x8c\xe5\xad\x97\xe7\xac\xa6\xef\xbc\x8c\xe8\xbf\x94\xe5\x9b\x9efalse\n\t{\n\t\treturn false;\n\t}\n\tusing std::stack;\n\tstack<string> Tree_stack;\n\tstring *p=in;//\xe8\xae\xbe\xe5\xae\x9a\xe5\xbd\x93\xe5\x89\x8d\xe5\xa4\x84\xe7\x90\x86\xe7\x9a\x84\xe4\xb8\xad\xe5\xba\x8f\xe9\x81\x8d\xe5\x8e\x86\xe4\xb8\xad\xe7\x9a\x84\xe4\xb8\x80\xe9\x83\xa8\xe5\x88\x86\xe7\x9a\x84\xe6\x8c\x87\xe9\x92\x88\n\tint temp;\n\twhile(1)\n\t{\n\t\tif(!(p->length()==1))\n\t\t{\n\t\t\ttemp=p->find((*pre)[0],0);//\xe6\x89\xbe\xe5\x88\xb0\xe5\xbd\x93\xe5\x89\x8d\xe5\x89\x8d\xe5\xba\x8f\xe9\x81\x8d\xe5\x8e\x86\xe7\x9a\x84\xe6\xa0\xb9\xe8\x8a\x82\xe7\x82\xb9\xe5\x9c\xa8\xe4\xb8\xad\xe5\xba\x8f\xe9\x81\x8d\xe5\x8e\x86\xe4\xb8\xad\xe7\x9a\x84\xe4\xbd\x8d\xe7\xbd\xae\n\t\t\tif(temp<0)\n\t\t\t{\n\t\t\t\tsystem("pause");\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif(temp!=0)//\xe5\x81\x87\xe5\xa6\x82\xe8\xaf\xa5\xe6\xa0\xb9\xe8\x8a\x82\xe7\x82\xb9\xe6\x9c\x89\xe5\xb7\xa6\xe5\xad\x90\xe6\xa0\x91\xef\xbc\x8c\xe9\x82\xa3\xe4\xb9\x88\xe5\xb0\x86\xe8\xaf\xa5\xe8\x8a\x82\xe7\x82\xb9\xe5\x92\x8c\xe5\x85\xb6\xe5\x8f\xb3\xe5\xad\x90\xe6\xa0\x91\xe5\x8e\x8b\xe6\xa0\x88\xef\xbc\x8c\xe7\x84\xb6\xe5\x90\x8e\xe5\xa4\x84\xe7\x90\x86\xe5\xb7\xa6\xe5\xad\x90\xe6\xa0\x91\n\t\t\t{\n\t\t\t\tTree_stack.push(pre->substr(0,1));\n\t\t\t\tif(temp+1!=p->length())//\xe5\x81\x87\xe5\xa6\x82\xe8\xaf\xa5\xe6\xa0\xb9\xe8\x8a\x82\xe7\x82\xb9\xe6\x9c\x89\xe5\x8f\xb3\xe5\xad\x90\xe6\xa0\x91\xef\xbc\x8c\xe5\x88\x99\xe5\xb0\x86\xe5\x85\xb6\xe5\x8e\x8b\xe6\xa0\x88\n\t\t\t\t\tTree_stack.push(p->substr(temp+1,pre->length()-temp-1));\n\t\t\t\t*p=p->substr(0,temp);\n\t\t\t\t*pre=pre->substr(1,pre->length()-1);\n\t\t\t}\n\t\t\telse//\xe5\x81\x87\xe5\xa6\x82\xe8\xaf\xa5\xe6\xa0\xb9\xe8\x8a\x82\xe7\x82\xb9\xe6\xb2\xa1\xe6\x9c\x89\xe5\xb7\xa6\xe5\xad\x90\xe6\xa0\x91\xef\xbc\x8c\xe7\x94\xb1\xe4\xba\x8e\xe9\x95\xbf\xe5\xba\xa6\xe4\xb8\x8d\xe4\xb8\xba1\xef\xbc\x8c\xe5\x88\x99\xe4\xb8\x80\xe5\xae\x9a\xe6\x9c\x89\xe5\x8f\xb3\xe5\xad\x90\xe6\xa0\x91\xef\xbc\x8c\xe9\x82\xa3\xe4\xb9\x88\xe5\xb0\x86\xe8\xaf\xa5\xe8\x8a\x82\xe7\x82\xb9\xe5\x8e\x8b\xe6\xa0\x88\xef\xbc\x8c\xe7\x84\xb6\xe5\x90\x8e\xe9\x81\x8d\xe5\x8e\x86\xe5\x8f\xb3\xe5\xad\x90\xe6\xa0\x91\n\t\t\t{\n\t\t\t\tTree_stack.push(p->substr(0,1));\n\t\t\t\t*p=p->substr(1,p->length()-1);\n\t\t\t\t*pre=pre->substr(1,pre->length()-1);\n\t\t\t}\n\t\t}\n\t\telse//\xe9\x95\xbf\xe5\xba\xa6\xe4\xb8\xba1\xe7\x9a\x84\xe6\x97\xb6\xe5\x80\x99\xef\xbc\x8c\xe8\xbe\x93\xe5\x87\xba\xe8\xaf\xa5\xe8\x8a\x82\xe7\x82\xb9\xe7\x9a\x84\xe5\x80\xbc\xef\xbc\x8c\xe7\x84\xb6\xe5\x90\x8e\xe4\xbb\x8e\xe6\xa0\x88\xe4\xb8\xad\xe5\xbc\xb9\xe5\x87\xba\xe4\xb9\x8b\xe5\x89\x8d\xe6\x9c\xaa\xe5\xa4\x84\xe7\x90\x86\xe7\x9a\x84\xe5\x8f\xb3\xe5\xad\x90\xe6\xa0\x91\xe6\x88\x96\xe8\x8a\x82\xe7\x82\xb9\n\t\t{\n\t\t\tcout<<*p;\n\t\t\tif((*p)[0]==(*pre)[0]&&pre->length()>1)\n\t\t\t\t*pre=pre->substr(1,pre->length()-1);\n\t\t\tif(!Tree_stack.empty())\n\t\t\t{\n\t\t\t\t*p=Tree_stack.top();\n\t\t\t\tTree_stack.pop();\n\t\t\t}\n\t\t\telse\n\t\t\t\tp=NULL;//\xe5\xbd\x93\xe6\xa0\x88\xe7\xa9\xba\xe7\x9a\x84\xe6\x97\xb6\xe5\x80\x99\xef\xbc\x8c\xe6\xb2\xa1\xe6\x9c\x89\xe6\x95\xb0\xe6\x8d\xae\xe8\xa6\x81\xe5\xa4\x84\xe7\x90\x86\n\n\t\t}\n\t\tif(p==NULL)\n\t\t{\n\t\t\tcout<<endl;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn true;\n}\nint main()\n{\n\tstring preorder_data, inorder_data;\n\tcin>>preorder_data>>inorder_data;\n\tif(Post_order( &preorder_data, &inorder_data));\n\telse  //\xe8\x8b\xa5\xe5\x87\xba\xe7\x8e\xb0\xe9\x94\x99\xe8\xaf\xaf\xef\xbc\x8c\xe6\xb8\x85\xe7\xa9\xba\xe5\xb1\x8f\xe5\xb9\x95\xef\xbc\x8c\xe8\xbe\x93\xe5\x87\xbaFalse\n\t{\n\t\tsystem("cls");\n\t\tcout<<"False!!!"<<endl;\n\t}\n\t//system("pause");\n\treturn 0;\n}'
