b'/*\n0501: \xe4\xb8\x9b\xe6\x9e\x97\xe4\xb8\xad\xe7\x9a\x84\xe8\xb7\xaf\nhttp://dsb.openjudge.cn/5/0501/\n\n\n\xe6\x8f\x8f\xe8\xbf\xb0\n \xe7\x83\xad\xe5\xb8\xa6\xe5\xb2\x9b\xe5\xb1\xbfLagrishan\xe7\x9a\x84\xe9\xa6\x96\xe9\xa2\x86\xe7\x8e\xb0\xe5\x9c\xa8\xe9\x9d\xa2\xe4\xb8\xb4\xe4\xb8\x80\xe4\xb8\xaa\xe9\x97\xae\xe9\xa2\x98\xef\xbc\x9a\xe5\x87\xa0\xe5\xb9\xb4\xe5\x89\x8d\xef\xbc\x8c\xe4\xb8\x80\xe6\x89\xb9\xe5\xa4\x96\xe6\x8f\xb4\xe8\xb5\x84\xe9\x87\x91\xe8\xa2\xab\xe7\x94\xa8\xe4\xba\x8e\xe7\xbb\xb4\xe6\x8a\xa4\xe6\x9d\x91\xe8\x90\xbd\xe4\xb9\x8b\xe9\x97\xb4\xe7\x9a\x84\xe9\x81\x93\xe8\xb7\xaf\xef\xbc\x8c\xe4\xbd\x86\xe6\x97\xa5\xe7\x9b\x8a\xe7\xb9\x81\xe8\x8c\x82\xe7\x9a\x84\xe4\xb8\x9b\xe6\x9e\x97\xe6\x97\xa0\xe6\x83\x85\xe7\x9a\x84\xe4\xbe\xb5\xe8\x9a\x80\xe7\x9d\x80\xe6\x9d\x91\xe6\xb0\x91\xe7\x9a\x84\xe9\x81\x93\xe8\xb7\xaf\xef\xbc\x8c\xe5\xaf\xbc\xe8\x87\xb4\xe9\x81\x93\xe8\xb7\xaf\xe7\xbb\xb4\xe4\xbf\xae\xe5\xbc\x80\xe9\x94\x80\xe5\xb7\xa8\xe5\xa4\xa7\xef\xbc\x8c\xe9\x95\xbf\xe8\x80\x81\xe4\xbc\x9a\xe4\xb8\x8d\xe5\xbe\x97\xe4\xb8\x8d\xe6\x94\xbe\xe5\xbc\x83\xe9\x83\xa8\xe5\x88\x86\xe9\x81\x93\xe8\xb7\xaf\xe7\x9a\x84\xe7\xbb\xb4\xe6\x8a\xa4\xe3\x80\x82\xe4\xb8\x8a\xe5\x9b\xbe\xe5\xb7\xa6\xe4\xbe\xa7\xe5\x9b\xbe\xe6\x98\xbe\xe7\xa4\xba\xe7\x9a\x84\xe6\x98\xaf\xe6\xad\xa3\xe5\x9c\xa8\xe4\xbd\xbf\xe7\x94\xa8\xe9\x81\x93\xe8\xb7\xaf\xe7\x9a\x84\xe7\xae\x80\xe5\x9b\xbe\xe4\xbb\xa5\xe5\x8f\x8a\xe6\xaf\x8f\xe6\x9d\xa1\xe8\xb7\xaf\xe6\xaf\x8f\xe4\xb8\xaa\xe6\x9c\x88\xe7\x9a\x84\xe7\xbb\xb4\xe4\xbf\xae\xe8\xb4\xb9\xe7\x94\xa8\xef\xbc\x88\xe5\x8d\x95\xe4\xbd\x8d\xe4\xb8\xbaaacms\xef\xbc\x89\xe3\x80\x82\xe7\x8e\xb0\xe5\x9c\xa8\xe9\x95\xbf\xe8\x80\x81\xe4\xbc\x9a\xe9\x9c\x80\xe8\xa6\x81\xe6\x8f\x90\xe5\x87\xba\xe4\xb8\x80\xe7\xa7\x8d\xe6\x96\xb9\xe6\xa1\x88\xef\xbc\x8c\xe5\x8d\xb3\xe9\x9c\x80\xe8\xa6\x81\xe4\xbf\x9d\xe8\xaf\x81\xe6\x9d\x91\xe8\x90\xbd\xe4\xb9\x8b\xe9\x97\xb4\xe9\x83\xbd\xe5\x8f\xaf\xe4\xbb\xa5\xe4\xba\x92\xe7\x9b\xb8\xe5\x88\xb0\xe8\xbe\xbe\xef\xbc\x8c\xe5\x8f\x88\xe8\xa6\x81\xe5\xb0\x86\xe6\xaf\x8f\xe4\xb8\xaa\xe6\x9c\x88\xe7\x9a\x84\xe9\x81\x93\xe8\xb7\xaf\xe7\xbb\xb4\xe4\xbf\xae\xe8\xb4\xb9\xe7\x94\xa8\xe6\x8e\xa7\xe5\x88\xb6\xe5\x9c\xa8\xe6\x9c\x80\xe5\xb0\x8f\xe3\x80\x82\xe6\x9d\x91\xe5\xad\x90\xe7\xbc\x96\xe5\x8f\xb7\xe4\xb8\xba\xe4\xbb\x8eA\xe5\x88\xb0I\xe3\x80\x82\xe4\xb8\x8a\xe5\x9b\xbe\xe5\x8f\xb3\xe4\xbe\xa7\xe6\x98\xbe\xe7\xa4\xba\xe7\x9a\x84\xe6\x96\xb9\xe6\xa1\x88\xe6\x9c\x80\xe5\xb0\x8f\xe7\xbb\xb4\xe4\xbf\xae\xe5\xbc\x80\xe9\x94\x80\xe4\xb8\xba216 aacms\xe6\xaf\x8f\xe6\x9c\x88\xe3\x80\x82\n\xe8\xbe\x93\xe5\x85\xa5\n\xe8\xbe\x93\xe5\x85\xa5\xe5\x8c\x85\xe5\x90\xab1~100\xe4\xb8\xaa\xe6\x95\xb0\xe6\x8d\xae\xe9\x9b\x86\xef\xbc\x8c\xe6\x9c\x80\xe5\x90\x8e\xe4\xb8\x80\xe8\xa1\x8c\xe4\xb8\xba0.\xe6\xaf\x8f\xe4\xb8\xaa\xe6\x95\xb0\xe6\x8d\xae\xe9\x9b\x86\xe7\xac\xac\xe4\xb8\x80\xe8\xa1\x8c\xe4\xb8\xba\xe6\x9d\x91\xe8\x90\xbd\xe6\x95\xb0\xe7\x9b\xaen, 1 < n < 27,\xe4\xbe\x9d\xe6\xac\xa1\xe7\x94\xa8\xe5\xad\x97\xe6\xaf\x8d\xe8\xa1\xa8\xe7\x9a\x84\xe5\x89\x8dn\xe4\xb8\xaa\xe5\xad\x97\xe6\xaf\x8d\xe6\xa0\x87\xe8\xae\xb0\xe3\x80\x82\xe6\x8e\xa5\xe4\xb8\x8b\xe6\x9d\xa5\xe6\x9c\x89n-1\xe8\xa1\x8c\xef\xbc\x8c\xe6\xaf\x8f\xe8\xa1\x8c\xe7\x9a\x84\xe7\xac\xac\xe4\xb8\x80\xe4\xb8\xaa\xe6\x95\xb0\xe6\x8d\xae\xe4\xbe\xbf\xe6\x98\xaf\xe6\x8c\x89\xe5\xad\x97\xe6\xaf\x8d\xe9\xa1\xba\xe5\xba\x8f\xe6\x8e\x92\xe5\x88\x97\xe7\x9a\x84\xe6\x9d\x91\xe5\xad\x90\xe7\xbc\x96\xe5\x8f\xb7\xef\xbc\x88\xe4\xb8\x8d\xe5\x8c\x85\xe6\x8b\xac\xe6\x9c\x80\xe5\x90\x8e\xe4\xb8\x80\xe4\xb8\xaa\xe6\x9d\x91\xe5\xba\x84\xef\xbc\x89\xe3\x80\x82\xe6\xaf\x8f\xe4\xb8\xaa\xe6\x9d\x91\xe5\xba\x84\xe5\x90\x8e\xe9\x9d\xa2\xe7\x9a\x84\xe6\x95\xb0\xe6\x8d\xaek\xe4\xbb\xa3\xe8\xa1\xa8\xe8\xaf\xa5\xe6\x9d\x91\xe5\xba\x84\xe9\x80\x9a\xe5\xbe\x80\xe7\xbc\x96\xe5\x8f\xb7\xe5\x9c\xa8\xe5\x85\xb6\xe4\xb9\x8b\xe5\x90\x8e\xe7\x9a\x84\xe6\x9d\x91\xe5\xba\x84\xe7\x9a\x84\xe9\x81\x93\xe8\xb7\xaf\xe6\x95\xb0\xe7\x9b\xae\xef\xbc\x8c\xe5\xa6\x82A 2 B 12 I 25\xef\xbc\x8c\xe4\xbb\xa3\xe8\xa1\xa8A\xe6\x9d\x91\xe5\xba\x84\xe6\x9c\x892\xe4\xb8\xaa\xe7\xbc\x96\xe5\x8f\xb7\xe5\x9c\xa8A\xe4\xb9\x8b\xe5\x90\x8e\xe7\x9a\x84\xe6\x9d\x91\xe5\xba\x84\xe5\x92\x8c\xe5\x85\xb6\xe7\x9b\xb8\xe8\xbf\x9e\xe3\x80\x82\xe8\x8b\xa5k\xe5\xa4\xa7\xe4\xba\x8e0\xef\xbc\x8ck\xe5\x90\x8e\xe9\x9d\xa2\xe4\xbc\x9a\xe4\xbe\x9d\xe6\xac\xa1\xe7\xbb\x99\xe5\x87\xba\xe8\xbf\x99k\xe4\xb8\xaa\xe6\x9d\x91\xe5\xba\x84\xe7\x9a\x84\xe7\xbc\x96\xe5\x8f\xb7\xe4\xbb\xa5\xe5\x8f\x8a\xe5\x90\x84\xe8\x87\xaa\xe5\x88\xb0\xe8\xb5\xb7\xe5\xa7\x8b\xe6\x9d\x91\xe5\xba\x84\xe7\x9a\x84\xe9\x81\x93\xe8\xb7\xaf\xe7\xbb\xb4\xe4\xbf\xae\xe8\xb4\xb9\xe7\x94\xa8\xef\xbc\x8c\xe5\xa6\x82A 2 B 12 I 25\xef\xbc\x8c\xe4\xbb\xa3\xe8\xa1\xa8A\xe5\x92\x8cB\xe4\xb9\x8b\xe9\x97\xb4\xe9\x81\x93\xe8\xb7\xaf\xe7\xbb\xb4\xe4\xbf\xae\xe8\xb4\xb9\xe7\x94\xa8\xe4\xb8\xba12\xef\xbc\x8c A\xe5\x92\x8cI\xe4\xb9\x8b\xe9\x97\xb4\xe9\x81\x93\xe8\xb7\xaf\xe7\xbb\xb4\xe4\xbf\xae\xe8\xb4\xb9\xe7\x94\xa8\xe4\xb8\xba25\xef\xbc\x88\xe7\xbb\xb4\xe4\xbf\xae\xe8\xb4\xb9\xe7\x94\xa8\xe4\xb8\xba\xe4\xb8\x8d\xe8\xb6\x85\xe8\xbf\x87100\xe7\x9a\x84\xe6\xad\xa3\xe6\x95\xb4\xe6\x95\xb0\xef\xbc\x89.\xe8\xb7\xaf\xe7\x9a\x84\xe6\x80\xbb\xe6\x95\xb0\xe7\x9b\xae\xe4\xb8\x8d\xe8\xb6\x85\xe8\xbf\x8775\xe6\x9d\xa1\xef\xbc\x8c\xe6\xaf\x8f\xe4\xb8\xaa\xe6\x9d\x91\xe5\xba\x84\xe5\x88\xb0\xe5\x85\xb6\xe4\xbb\x96\xe6\x9d\x91\xe5\xba\x84\xe4\xb8\x8d\xe4\xbc\x9a\xe6\x9c\x89\xe8\xb6\x85\xe8\xbf\x8715\xe6\x9d\xa1\xe8\xb7\xaf\xef\xbc\x88\xe5\x8c\x85\xe6\x8b\xac\xe7\xbc\x96\xe5\x8f\xb7\xe5\x9c\xa8\xe5\x85\xb6\xe4\xb9\x8b\xe5\x89\x8d\xe5\x92\x8c\xe4\xb9\x8b\xe5\x90\x8e\xe7\x9a\x84\xef\xbc\x89\xe3\x80\x82\n\xe8\xbe\x93\xe5\x87\xba\n\xe6\xaf\x8f\xe4\xb8\xaa\xe6\x95\xb0\xe6\x8d\xae\xe9\x9b\x86\xe6\x9c\x89\xe4\xb8\x80\xe4\xb8\xaa\xe8\xbe\x93\xe5\x87\xba\xef\xbc\x9a\xe9\x92\x88\xe5\xaf\xb9\xe8\xa7\xa3\xe5\x86\xb3\xe6\x96\xb9\xe6\xa1\x88\xe6\xaf\x8f\xe4\xb8\xaa\xe6\x9c\x88\xe7\xbb\xb4\xe4\xbf\xae\xe9\x81\x93\xe8\xb7\xaf\xe7\x9a\x84\xe5\xb0\x8f\xe8\xb4\xb9\xe7\x94\xa8\xe3\x80\x82\xe6\x8f\x90\xe7\xa4\xba\xef\xbc\x9a\xe8\x9b\xae\xe5\x8a\x9b\xe7\xae\x97\xe6\xb3\x95\xe8\x99\xbd\xe8\x83\xbd\xe6\x89\xbe\xe5\x87\xba\xe8\xa7\xa3\xe5\x86\xb3\xe6\x96\xb9\xe6\xa1\x88\xef\xbc\x8c\xe4\xbd\x86\xe5\xb0\x86\xe4\xbc\x9a\xe8\xb6\x85\xe5\x87\xba\xe6\x97\xb6\xe9\x97\xb4\xe9\x99\x90\xe5\x88\xb6\xe3\x80\x82\n\xe6\xa0\xb7\xe4\xbe\x8b\xe8\xbe\x93\xe5\x85\xa5\n9\r\nA 2 B 12 I 25\r\nB 3 C 10 H 40 I 8\r\nC 2 D 18 G 55\r\nD 1 E 44\r\nE 2 F 60 G 38\r\nF 0\r\nG 1 H 35\r\nH 1 I 35\r\n3\r\nA 2 B 10 C 40\r\nB 1 C 20\r\n0\n\xe6\xa0\xb7\xe4\xbe\x8b\xe8\xbe\x93\xe5\x87\xba\n216\r\n30\n\n*/\n\n#include<iostream>\n#include<string>\n#include"stdlib.h"\nusing namespace std;\nint n;\nstruct\n{\n\tbool involved;\n\tint num;//\xe7\xac\xac\xe5\x87\xa0\xe4\xb8\xaa\xe7\xad\x89\xe4\xbb\xb7\xe7\xb1\xbb\n}count[27];\nstruct Sides\n{\n\tint weight;\n\tstring vertex;\n}side[10000];\nstruct LinkNode\n{\n\tstring name;\n\tint destination;\n}Link[27];\nvoid clear()\n{\n\tint i;\n\tfor(i=0;i<10000;i++)\n\t{\n\t\tside[i].weight=0;\n\t\tside[i].vertex=\'a\';\n\t}\n}\nvoid clear_count()\n{\n\tint i;\n\tfor(i=0;i<27;i++)\n\t{\n\t\tcount[i].involved=false;\n\t\tcount[i].num=-1;\n\t}\n}\nint cmp(const void *a,const void *b)\n{\n\tif(((Sides *)a)->weight>((Sides *)b)->weight)\n\t{\n\t\treturn 1;\n\t}\n\treturn -1;\n}\nint main()\n{\n\tint i,j,temp;\n\tint judge1,judge2;\n\tint attribution;\n\tint total=0;\n\tstring input_char;\n\tcin>>n;\n\tint dot_num,side_num;\n\twhile(n)\n\t{\n\t\tclear_count();\n\t\ttotal=0;\n\t\tdot_num=1;\n\t\tside_num=1;\n\t\tclear();\n\t\tfor(;dot_num<n;dot_num++)\n\t\t{\n\t\t\tcin>>Link[dot_num].name>>Link[dot_num].destination;\n\t\t\ttemp=Link[dot_num].destination;\n\t\t\tfor(i=0;i<temp;i++)\n\t\t\t{\n\t\t\t\tcin>>input_char>>side[side_num].weight;\n\t\t\t\tside[side_num].vertex=Link[dot_num].name+input_char;\n\t\t\t\tside[side_num].vertex=side[side_num].vertex+Link[dot_num].name;\n\t\t\t\tside_num++;\n\t\t\t}\t\n\t\t}\n\t\tqsort(side+1,--side_num,sizeof(Sides),cmp);\n\t\t/*cout<<"The number of sides is "<<side_num<<endl;\n\t\tfor(i=1;i<=side_num;i++)\n\t\t{\n\t\t\tcout<<i<<" : "<<side[i].vertex<<"||"<<side[i].weight<<endl;\n\t\t}\n\t\tcout<<"-------------------------"<<endl;*/\n\t\tfor(i=1,j=1;i<side_num;i++)\n\t\t{\n\t\t\tif(side[i].vertex.substr(0,2)!=side[i+1].vertex.substr(1,2))\n\t\t\t{\n\t\t\t\tside[j+1].vertex=side[i+1].vertex;\n\t\t\t\tside[j+1].weight=side[i+1].weight;\n\t\t\t\tj++;\n\t\t\t}\n\t\t}\n\t\tside_num=j;\n\t\t/*cout<<"The number of sides is "<<side_num<<endl;\n\t\tfor(i=1;i<=side_num;i++)\n\t\t{\n\t\t\tcout<<i<<" : "<<side[i].vertex<<"||"<<side[i].weight<<endl;\n\t\t}\n\t\tsystem("pause");*/\n\t\tj=1;\n\t\tattribution=1;\n\t\tfor(i=1;i<n&&j<=side_num;)\n\t\t{\n\t\t\tif((count[side[j].vertex.at(0)-\'A\'].involved&&count[side[j].vertex.at(0)-\'A\'].involved)&&(count[side[j].vertex.at(0)-\'A\'].num==count[side[j].vertex.at(1)-\'A\'].num))\n\t\t\t\tj++;\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(count[side[j].vertex.at(0)-\'A\'].involved&&!count[side[j].vertex.at(1)-\'A\'].involved)\n\t\t\t\t{\n\t\t\t\t\tcount[side[j].vertex.at(1)-\'A\'].involved=true;\n\t\t\t\t\tcount[side[j].vertex.at(1)-\'A\'].num=count[side[j].vertex.at(0)-\'A\'].num;\n\t\t\t\t}\n\t\t\t\telse if(count[side[j].vertex.at(1)-\'A\'].involved&&!count[side[j].vertex.at(0)-\'A\'].involved)\n\t\t\t\t{\n\t\t\t\t\tcount[side[j].vertex.at(0)-\'A\'].involved=true;\n\t\t\t\t\tcount[side[j].vertex.at(0)-\'A\'].num=count[side[j].vertex.at(1)-\'A\'].num;\n\t\t\t\t}\n\t\t\t\telse if((!count[side[j].vertex.at(0)-\'A\'].involved)&&(!count[side[j].vertex.at(1)-\'A\'].involved))\n\t\t\t\t{\n\t\t\t\t\tcount[side[j].vertex.at(0)-\'A\'].involved=true;\n\t\t\t\t\tcount[side[j].vertex.at(1)-\'A\'].involved=true;\n\t\t\t\t\tcount[side[j].vertex.at(1)-\'A\'].num=attribution;\n\t\t\t\t\tcount[side[j].vertex.at(0)-\'A\'].num=attribution;\n\t\t\t\t\tattribution++;\n\t\t\t\t}\n\t\t\t\telse if(count[side[j].vertex.at(1)-\'A\'].involved&&count[side[j].vertex.at(0)-\'A\'].involved)\n\t\t\t\t{\n\t\t\t\t\tjudge1=count[side[j].vertex.at(0)-\'A\'].num;\n\t\t\t\t\tjudge2=count[side[j].vertex.at(1)-\'A\'].num;\n\t\t\t\t\tfor(temp=0;temp<26;temp++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(count[temp].involved&&count[temp].num==judge1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcount[temp].num=judge2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttotal+=side[j].weight;\n\t\t\t\ti++;j++;\n\t\t\t}\n\t\t}\n\t\tcout<<total<<endl;\n\t\tcin>>n;\n\t}\n\treturn 0;\n}'
